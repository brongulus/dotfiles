#!/usr/bin/env sh

ID=kinara
# CMD=${1:-'tmux -u new-session -A -s kinara -n kinara'}

focused=$(xdotool getactivewindow)
kinara=$(xdotool search --onlyvisible --classname $ID)
if [[ -n $kinara ]]; then
    if [[ $focused == $kinara ]]; then
        xdotool windowkill $kinara
    else
        xdotool windowactivate $kinara
    fi
elif command -v kitty >/dev/null; then
    kitty --name $ID \
        -e bash 
# elif command -v alacritty >/dev/null; then
#     alacritty --class $ID \
#         -e bash
else
    >&2 echo "No shell to launch teminal with"
    exit 1
fi

